<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Notes</title>
<script type="text/javascript" src="../static/bootstrap/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../static/angular-js/angular.js"></script>
<script type="text/javascript" src="../static/angular-js/angular-route.js"></script>
<script type="text/javascript" src="../static/bootstrap/bootstrap.js"></script>
<script type="text/javascript" src="../static/NotesController.js"></script>
<link href="../static/bootstrap/bootstrap.css" rel="stylesheet">
<link href="../static/bootstrap/bootstrap.min.css" rel="stylesheet">
</head>
<body ng-app = "NotesApplication">
<div ng-controller = "NotesController">
	<div class="container">
	<nav class="navbar navbar-dark bg-dark justify-content-between">
	<div class="navbar-header">
	<a href="#" class="navbar-brand">Home</a>
	<input type="button" class="btn btn-outline-success text-white" 
				value="New" data-toggle="modal" data-target="#addnote">
	</div>
	<div>
	<span>
		<input type="text" placeholder="search ..."  class="form-control border border-primary rounded" ng-model="searchValue" ng-keyup="search()">
	</span>
	</div>
	</nav>
	</div>
	<br>
	<div class="container">
	<div class="row">
		<div class="col-md-2"></div>
		<div class="col-md-8">
		<h2 class="text-center">Notes</h2><br>
		<div class="text-danger" align="center">
		<h4 ng-bind = "message" ></h4>
		</div>
			<table class="table table-striped table-hover" ng-if="notesList">
			<thead class="text-center text-primary font-weight-bold">
				<tr>
					<td>Title</td>
					<td>Description</td>
					<td>Update</td>
					<td>Delete</td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat = "note in notesList">
					<td ng-model = "note.title">{{note.title}}</td>
					<td ng-model = "note.description">{{note.description}}</td>
					<td><input type="button" value="Edit" class="btn btn-primary" ng-click="update(note, note.id)" data-toggle="modal" data-target="#updatenote" title="update notes"></td>
						<td><input type="button" value="Delete" class="btn btn-danger"  ng-click="deleteNote(note.id)">
					</td>
				</tr>
			</tbody>
		</table>
		<br><br>
	</div>
		
	</div>
	
	
	<!-- Add Note modal -->
	<div class="modal fade" id="addnote">
			<div class="modal-dialog">
				<div class="modal-content">
				
					<div class="modal-header">
						<h4 class="modal-title">Add Notes</h4>
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					</div>
					
					<div class="modal-body">
						<form ng-submit="addNote()">
						<input type="hidden" ng-model = "note.id">
							<div class="form-group">
								<label>Title: </label> <input type="text" ng-model="note.title" required="required" class="form-control">
							</div>
							<div class="form-group">
								<label>Description: </label><textarea rows="" cols="" class="form-control" ng-model="note.description"></textarea>
							</div><br>
							<input type="submit" value="Add" class="btn btn-success form-control">
						
						
						</form>
						
					</div>
					
				</div>
			</div>
		</div>
		<div class="modal fade" id="updatenote">
			<div class="modal-dialog">
				<div class="modal-content">
				
					<div class="modal-header">
						<h4 class="modal-title">Update Notes</h4>
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					</div>
					
					<div class="modal-body">
						<form ng-submit="updateNotes()">
						<input type="hidden" ng-model = "updateNote.id" ng-value="ng.id ">
							<div class="form-group">
								<label>Title: </label> <input type="text" ng-model="updateNote.title" required="required" class="form-control" ng-value= "updateNote.title">
							</div>
							<div class="form-group">
								<label>Description: </label><textarea rows="" cols="" class="form-control" ng-model="updateNote.description" ng-value = "updateNote.description"></textarea>
							</div><br>
							<input type="submit" value="Add" class="btn btn-success form-control">
						
						
						</form>
						
					</div>
					
				</div>
			</div>
		</div>
</div>

</body>
</html>