<html>

<head>
	<title>Upload Files</title>
	<script type="text/javascript" src="jquery-3.5.1.js"></script>
	<script type="text/javascript" src="angular.js"></script>
	<script type="text/javascript" src="angular-route.js"></script>
	<script type="text/javascript" src="bootstrap.js"></script>
	<link href="bootstrap.css" rel="stylesheet">
	<link href="bootstrap.min.css" rel="stylesheet">
	<script>

		var application = angular.module('FileApplication',["ngRoute"]);
		var URI = "http://localhost:8080/notes";
		application.controller('FileController', function($scope, $http){
			$scope.message = null;
			$scope.fileUpload = function(){
				let file = document.getElementById("fileUpload").files[0];
				let formData = new FormData();
				formData.append("file",file);
				var config = {
		           transformRequest: angular.identity,
		           transformResponse: angular.identity,
		           headers : {
		           			'Content-Type': undefined
		           }
		       }

				$http.post(URI+"/fileUpload", formData, config).then(function(response){
					$scope.message = response.data;

				}, function(response){
					$scope.message = response.data;
				})

			}


		});
		 
			
		
	</script>
</head>

<body ng-app="FileApplication">
	<div class="container" ng-controller="FileController">
		<div class="row">
			<div class="col-md-4"></div>
			<div class="col-md-4">
				<br>
				<h2 align="center">Upload Files</h2>
				<br>
				<label><input type="file" class="form-control h-25" placeholder="no file is chosen" id="fileUpload"></label>
				<br>
				<button class="btn btn-primary" ng-click="fileUpload()">Upload</button>
				<br><br>
				<div ng-bind="message"></div>
			</div>
		</div>

	</div>
</body>

</html>